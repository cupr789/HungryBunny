<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="review">
	<insert id="insertReview" parameterType="map">
		insert into review(reviewRating, reviewComment, shopNo, resNo, reviewImageName)
		values(#{reviewRating},#{reviewComment},#{shopNo},#{resNo},#{reviewImageName});
	</insert>
	
	<select id="selectReviewList" parameterType="int" resultType="review">
		select rv.reviewComment, rv.reviewRating, u.uiId, m.menuName, rv.reviewNo, r.resNo, r.resDate, rv.reviewImageName
		from review rv, reservation r, user_info u , reservationmenu rm, menu m
		where rv.shopNo = #{shopNo}
		and rv.resNo = r.resNo
		and rv.resNo = rm.resNo
		and rm.menuNo = m.menuNo
		and r.uiNo = u.uiNo;
	</select>
	<insert id="adminComment" parameterType="map">
	insert into  adminReview(adminComment,reviewNo)
	values(#{adminComment},#{reviewNo})
	</insert>
</mapper>  